import{a as S}from"./chunk-FF466WUU.js";import{a as B,b as w,c as A}from"./chunk-Z6AK2GEV.js";import{a as M}from"./chunk-2EMY2H7W.js";import{b as x}from"./chunk-D7C7R5DL.js";import{Ba as o,Da as c,Db as I,Fb as C,Ha as s,Ia as k,Ja as y,Ka as p,S as m,Sa as r,fb as f,gb as b,ma as l,ra as u,rb as v,ta as d,ub as _}from"./chunk-UHKDLVDU.js";function $(t,a){t&1&&p(0,"app-client-skeleton")}function P(t,a){if(t&1&&p(0,"app-client-bucket",2),t&2){let e=r(2);s("bucket",e.displayData.bucket)}}function T(t,a){if(t&1&&(k(0,"div",0),p(1,"app-client-info",1),o(2,P,1,1,"app-client-bucket",2),y()),t&2){let e=r();l(),s("displayData",e.displayData.clientInfo),l(),c(e.showBucket?2:-1)}}var D=(()=>{class t{clientsApi;bucketApi;productsApi;clientId;showBucket;client;bucket;products;ready=!1;displayData;ngOnInit(){this.fetchClient(),this.fetchBucket()}fetchClient(){this.clientsApi.getClient$(this.clientId).subscribe(e=>this.client=e)}fetchBucket(){this.bucketApi.getClientBucket$(this.clientId).subscribe(e=>{this.bucket=e,this.fetchProducts()})}fetchProducts(){this.productsApi.allProducts$().subscribe(e=>{this.products=e,this.displayData=I(this.client,this.bucket,this.products),this.ready=!0})}constructor(e,i,n){this.clientsApi=e,this.bucketApi=i,this.productsApi=n}static \u0275fac=function(i){return new(i||t)(u(x),u(w),u(A))};static \u0275cmp=d({type:t,selectors:[["app-multi-subscribe"]],inputs:{clientId:"clientId",showBucket:"showBucket"},decls:2,vars:2,consts:[[1,"max-w-screen-lg"],[3,"displayData"],[3,"bucket"]],template:function(i,n){i&1&&(o(0,$,1,0,"app-client-skeleton"),o(1,T,3,2,"div",0)),i&2&&(c(n.ready?-1:0),l(),c(n.ready?1:-1))},dependencies:[M,B,S],styles:["[_nghost-%COMP%]{display:block}"]})}return t})();function j(t,a){if(t&1&&(p(0,"app-multi-subscribe",0),f(1,"async")),t&2){let e=r();s("clientId",a)("showBucket",b(1,2,e.showBucket$)??!1)}}var U=(()=>{class t{counter$=m(C).clientId$;showBucket$=m(C).showBucket$;static \u0275fac=function(i){return new(i||t)};static \u0275cmp=d({type:t,selectors:[["app-multi-subscribe-input-wrapper"]],decls:2,vars:3,consts:[[3,"clientId","showBucket"]],template:function(i,n){if(i&1&&(o(0,j,2,4,"app-multi-subscribe",0),f(1,"async")),i&2){let h;c((h=b(1,1,n.counter$))?0:-1,h)}},dependencies:[_,D,v],encapsulation:2})}return t})();export{U as MultiSubscribeInputWrapperComponent};
