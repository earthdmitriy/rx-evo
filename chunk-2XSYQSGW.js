import{b as x,c as y}from"./chunk-MC5SZHMA.js";import{a as A}from"./chunk-FF466WUU.js";import{a as M,b as N,c as P}from"./chunk-Z6AK2GEV.js";import{a as R}from"./chunk-2EMY2H7W.js";import{b as T}from"./chunk-D7C7R5DL.js";import{Ba as o,Da as p,Eb as D,Fb as _,Ha as d,Ia as $,Ja as S,K as f,Ka as l,M as s,S as n,Sa as r,ca as C,fb as g,gb as k,ma as m,mb as h,p as b,q as B,rb as w,ta as u,ub as I}from"./chunk-UHKDLVDU.js";function E(e,c){e&1&&l(0,"app-client-skeleton")}function F(e,c){e&1&&l(0,"app-client-info",2),e&2&&d("displayData",c)}function O(e,c){if(e&1&&o(0,F,1,1,"app-client-info",2),e&2){let t,i=r();p((t=i.client())?0:-1,t)}}function q(e,c){if(e&1&&l(0,"app-client-bucket",1),e&2){let t=r();d("bucket",t.populatedBucket())}}var W=(()=>{class e{clientId=h.required();clientId$=x(this.clientId);showBucket=h();clientReady=C(!1);bucketReady=C(!1);clientsApi=n(T);bucketApi=n(N);productsApi=n(P);client$=this.clientId$.pipe(s(()=>this.clientReady.set(!1)),f(t=>this.clientsApi.getClient$(t)),s(()=>this.clientReady.set(!0)));bucket$=this.clientId$.pipe(s(()=>this.bucketReady.set(!1)),f(t=>this.bucketApi.getClientBucket$(t)),s(()=>this.bucketReady.set(!0)));products$=this.productsApi.allProducts$();populatedBucket$=B([this.bucket$,this.products$]).pipe(b(([t,i])=>D(t,i)));client=y(this.client$);populatedBucket=y(this.populatedBucket$);static \u0275fac=function(i){return new(i||e)};static \u0275cmp=u({type:e,selectors:[["app-signal"]],inputs:{clientId:[1,"clientId"],showBucket:[1,"showBucket"]},decls:4,vars:3,consts:[[1,"max-w-screen-lg"],[3,"bucket"],[3,"displayData"]],template:function(i,a){i&1&&($(0,"div",0),o(1,E,1,0,"app-client-skeleton"),o(2,O,1,1),o(3,q,1,1,"app-client-bucket",1),S()),i&2&&(m(),p(a.clientReady()===!1?1:-1),m(),p(a.clientReady()?2:-1),m(),p(a.showBucket()&&a.bucketReady()?3:-1))},dependencies:[R,M,A],styles:["[_nghost-%COMP%]{display:block}"],changeDetection:0})}return e})();function L(e,c){if(e&1&&(l(0,"app-signal",0),g(1,"async")),e&2){let t=r();d("clientId",c)("showBucket",k(1,2,t.showBucket$)??!1)}}var le=(()=>{class e{counter$=n(_).clientId$;showBucket$=n(_).showBucket$;static \u0275fac=function(i){return new(i||e)};static \u0275cmp=u({type:e,selectors:[["app-signal-input-wrapper"]],decls:2,vars:3,consts:[[3,"clientId","showBucket"]],template:function(i,a){if(i&1&&(o(0,L,2,4,"app-signal",0),g(1,"async")),i&2){let v;p((v=k(1,1,a.counter$))?0:-1,v)}},dependencies:[I,W,w],encapsulation:2})}return e})();export{le as SignalInputWrapperComponent};
