import{a as E}from"./chunk-GAAJMFTV.js";import{c as b,e as _}from"./chunk-ZSEMYRIX.js";import"./chunk-XFDKH5E3.js";import{b as O}from"./chunk-MC5SZHMA.js";import{a as P,b as M,c as T}from"./chunk-Z6AK2GEV.js";import{a as x}from"./chunk-2EMY2H7W.js";import{b as D}from"./chunk-D7C7R5DL.js";import{Ba as r,Da as a,Eb as A,Fb as $,Ha as n,I as g,Ia as I,Ja as C,K as h,Ka as f,R as w,S as i,Sa as k,fb as c,gb as l,ma as d,mb as S,p as m,rb as y,ta as v,ub as B}from"./chunk-UHKDLVDU.js";var j=new w("allProducts",{providedIn:"root",factory:()=>{let e=i(T);return b(()=>e.allProducts$()).pipeError(m(()=>"Can't load products")).pipe(g(1))}});function V(e,p){e&1&&f(0,"app-client-info",2),e&2&&n("displayData",p)}function q(e,p){e&1&&f(0,"app-client-bucket",3),e&2&&n("bucket",p)}function R(e,p){if(e&1&&(I(0,"app-stateful-block",1),r(1,q,1,1,"app-client-bucket",3),c(2,"async"),C()),e&2){let t,o=k();n("stream",o.populatedBucket$),d(),a((t=l(2,2,o.populatedBucket$))?1:-1,t)}}var F=(()=>{class e{clientId=S.required();showBucket=S();clientsApi=i(D);bucketApi=i(M);clientId$=O(this.clientId);client$=b(()=>this.clientId$).pipeValue(h(t=>this.clientsApi.getClient$(t))).pipeError(m(()=>"Can't load client"));allProducts$=i(j);bucket$=b(this.clientId$).pipeValue(h(t=>this.bucketApi.getClientBucket$(t))).pipeError(m(()=>"Can't load bucket"));populatedBucket$=_([this.bucket$,this.allProducts$],([t,o])=>A(t,o));static \u0275fac=function(o){return new(o||e)};static \u0275cmp=v({type:e,selectors:[["app-stateful-observable"]],inputs:{clientId:[1,"clientId"],showBucket:[1,"showBucket"]},decls:5,vars:5,consts:[[1,"max-w-screen-lg"],[3,"stream"],[3,"displayData"],[3,"bucket"]],template:function(o,s){if(o&1&&(I(0,"div",0)(1,"app-stateful-block",1),r(2,V,1,1,"app-client-info",2),c(3,"async"),C(),r(4,R,3,4,"app-stateful-block",1),C()),o&2){let u;d(),n("stream",s.client$),d(),a((u=l(3,3,s.client$))?2:-1,u),d(2),a(s.showBucket()?4:-1)}},dependencies:[B,x,P,E,y],styles:["[_nghost-%COMP%]{display:block}"],changeDetection:0})}return e})();function z(e,p){if(e&1&&(f(0,"app-stateful-observable",0),c(1,"async")),e&2){let t=k();n("clientId",p)("showBucket",l(1,2,t.showBucket$)??!1)}}var ve=(()=>{class e{counter$=i($).clientId$;showBucket$=i($).showBucket$;static \u0275fac=function(o){return new(o||e)};static \u0275cmp=v({type:e,selectors:[["app-stateful-observable-input-wrapper"]],decls:2,vars:3,consts:[[3,"clientId","showBucket"]],template:function(o,s){if(o&1&&(r(0,z,2,4,"app-stateful-observable",0),c(1,"async")),o&2){let u;a((u=l(1,1,s.counter$))?0:-1,u)}},dependencies:[B,F,y],encapsulation:2})}return e})();export{ve as StatefulObservableInputWrapperComponent};
