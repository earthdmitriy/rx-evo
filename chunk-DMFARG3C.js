import{a as u,d}from"./chunk-UHKDLVDU.js";function R(t){return l=>new d(s=>{let o=null,r=0,a=t.name||"RxJS Stream",i=`rxjs_${a.replace(/\s+/g,"_")}_${Date.now()}`,f=()=>{if(typeof window>"u"||!window.__REDUX_DEVTOOLS_EXTENSION__)return t.debug&&console.warn("Redux DevTools extension not found"),null;try{let e=window.__REDUX_DEVTOOLS_EXTENSION__.connect({name:a,features:{pause:!0,lock:!0,persist:!1,export:!0,import:!1,jump:!0,skip:!0,reorder:!1,dispatch:!1,test:!1},trace:!1,traceLimit:25,maxAge:t.maxAge||50});return e.init(void 0),t.debug&&console.log(`Redux DevTools connected for: ${a}`),e}catch(e){return t.debug&&console.error("Failed to connect to Redux DevTools:",e),null}},E=e=>{if(typeof t.actionName=="function")return t.actionName(e,r);if(t.actionName)return t.actionName;let n=typeof e;return n==="string"?`STRING_VALUE_${r}`:n==="number"?`NUMBER_VALUE_${r}`:n==="boolean"?`BOOLEAN_VALUE_${r}`:e===null?`NULL_VALUE_${r}`:e===void 0?`UNDEFINED_VALUE_${r}`:Array.isArray(e)?`ARRAY_VALUE_${r}`:n==="object"?`OBJECT_VALUE_${r}`:`VALUE_${r}`},_=e=>t.actionMeta?t.actionMeta(e,r):{timestamp:new Date().toISOString(),valueType:typeof e,valueCount:r,instanceId:i,isArray:Array.isArray(e),isNull:e===null,isUndefined:e===void 0},m=e=>t.actionPayload?t.actionPayload(e,r):t.serialize?t.serialize(e):e,A=e=>{if(o||(o=f()),!!o)try{let n=E(e),c=m(e),D=_(e),y=u({type:n,payload:c},D),p={value:c,count:r,lastUpdated:new Date().toISOString(),history:r>0?"available":"initial"};o.send(y,p,{},i),t.debug&&console.log(`[Redux DevTools] ${n}:`,e),r++}catch(n){t.debug&&console.warn("Failed to send value to Redux DevTools:",n)}},g=l.subscribe({next:e=>{A(e),s.next(e)},error:e=>{if(o)try{let n={type:"ERROR",payload:{message:e?.message||"Unknown error",stack:e?.stack},timestamp:new Date().toISOString(),instanceId:i};o.send(n,{error:!0,lastError:e?.message},{},i)}catch{}t.debug&&console.error(`[Redux DevTools] Error in ${a}:`,e),s.error(e)},complete:()=>{if(o)try{let e={type:"COMPLETE",payload:{totalValues:r,completedAt:new Date().toISOString()},timestamp:new Date().toISOString(),instanceId:i};o.send(e,{completed:!0,totalValuesProcessed:r},{},i)}catch{}t.debug&&console.log(`[Redux DevTools] Stream ${a} completed after ${r} values`),s.complete()}});return()=>{if(g.unsubscribe(),o)try{o.unsubscribe(),t.debug&&console.log(`[Redux DevTools] Disconnected: ${a}`)}catch(e){t.debug&&console.warn("Error unsubscribing from Redux DevTools:",e)}}})}export{R as a};
