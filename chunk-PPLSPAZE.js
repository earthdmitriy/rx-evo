import{a as y,b as S}from"./chunk-K2KTMQ6H.js";import{a as M}from"./chunk-XFDKH5E3.js";import"./chunk-MC5SZHMA.js";import{a as w,b as D,c as q}from"./chunk-Z6AK2GEV.js";import{a as I}from"./chunk-2EMY2H7W.js";import{b as A}from"./chunk-D7C7R5DL.js";import{Ba as a,Da as c,Eb as b,Fb as B,Ha as u,Ia as k,Ja as f,Ka as d,S as r,Sa as _,_a as h,fb as n,g as R,gb as o,h as $,ma as l,p as g,rb as x,ta as C,ub as v}from"./chunk-UHKDLVDU.js";function j(e,p){e&1&&d(0,"app-generic-error",1)}function F(e,p){e&1&&d(0,"app-client-info",2),e&2&&u("displayData",p)}function W(e,p){e&1&&d(0,"app-generic-error",4)}function G(e,p){e&1&&d(0,"app-client-bucket",5),e&2&&u("bucket",p)}function O(e,p){if(e&1&&(k(0,"div"),a(1,W,1,0,"app-generic-error",4),n(2,"async"),a(3,G,1,1,"app-client-bucket",5),n(4,"async"),f()),e&2){let i,t=_();h("loading",t.combined.loading$),l(),c(o(2,4,t.combined.error$)?1:-1),l(2),c((i=o(4,6,t.combinedData$))?3:-1,i)}}var T=(()=>{class e{set clientId(i){this.clientId$.next(i)}clientId$=new $(1);showBucket;clientsApi=r(A);bucketApi=r(D);productsApi=r(q);productsRequest=y(new R(!0),()=>this.productsApi.allProducts$(),i=>i);clientRequest=y(this.clientId$,i=>this.clientsApi.getClient$(i),i=>i);bucketRequest=y(this.clientId$,i=>this.bucketApi.getClientBucket$(i),i=>i);combined=S([this.bucketRequest,this.productsRequest]);combinedData$=this.combined.data$.pipe(g(([i,t])=>b(i,t)));static \u0275fac=function(t){return new(t||e)};static \u0275cmp=C({type:e,selectors:[["app-container-rx"]],inputs:{clientId:"clientId",showBucket:"showBucket"},decls:8,vars:11,consts:[[1,"max-w-screen-lg"],["text","Failed to load client"],[3,"displayData"],[3,"loading"],["text","Failed to load bucket"],[3,"bucket"]],template:function(t,m){if(t&1&&(k(0,"div",0)(1,"div"),n(2,"async"),a(3,j,1,0,"app-generic-error",1),n(4,"async"),a(5,F,1,1,"app-client-info",2),n(6,"async"),f(),a(7,O,5,8,"div",3),f()),t&2){let s;l(),h("loading",o(2,5,m.clientRequest.loading$)),l(2),c(o(4,7,m.clientRequest.error$)?3:-1),l(2),c((s=o(6,9,m.clientRequest.data$))?5:-1,s),l(2),c(m.showBucket?7:-1)}},dependencies:[v,I,w,M,x],styles:["[_nghost-%COMP%]{display:block}"],changeDetection:0})}return e})();function z(e,p){if(e&1&&(d(0,"app-container-rx",0),n(1,"async")),e&2){let i=_();u("clientId",p)("showBucket",o(1,2,i.showBucket$)??!1)}}var le=(()=>{class e{counter$=r(B).clientId$;showBucket$=r(B).showBucket$;static \u0275fac=function(t){return new(t||e)};static \u0275cmp=C({type:e,selectors:[["app-rx-input-wrapper"]],decls:2,vars:3,consts:[[3,"clientId","showBucket"]],template:function(t,m){if(t&1&&(a(0,z,2,4,"app-container-rx",0),n(1,"async")),t&2){let s;c((s=o(1,1,m.counter$))?0:-1,s)}},dependencies:[v,T,x],encapsulation:2})}return e})();export{le as ContainerRxInputWrapperComponent};
