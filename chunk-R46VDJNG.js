import{a as D}from"./chunk-FF466WUU.js";import{a as A,b as M,c as T}from"./chunk-Z6AK2GEV.js";import{a as w}from"./chunk-2EMY2H7W.js";import{b as S}from"./chunk-D7C7R5DL.js";import{Ba as o,Da as p,Db as k,Fb as v,Ha as s,Ia as B,Ja as $,Ka as c,L as C,S as h,Sa as a,f as _,fb as y,gb as I,ha as g,ma as d,ra as u,rb as b,t as f,ta as m,ub as x}from"./chunk-UHKDLVDU.js";function F(t,r){t&1&&c(0,"app-client-skeleton")}function P(t,r){if(t&1&&c(0,"app-client-bucket",2),t&2){let e=a(2);s("bucket",e.displayData.bucket)}}function W(t,r){if(t&1&&(B(0,"div",0),c(1,"app-client-info",1),o(2,P,1,1,"app-client-bucket",2),$()),t&2){let e=a();d(),s("displayData",e.displayData.clientInfo),d(),p(e.showBucket?2:-1)}}var j=(()=>{class t{clientsApi;bucketApi;productsApi;clientId;showBucket;destroy$=new _;products;ready=!1;displayData;ngOnInit(){f([this.clientsApi.getClient$(this.clientId),this.bucketApi.getClientBucket$(this.clientId),this.productsApi.allProducts$()]).pipe(C(this.destroy$)).subscribe(([e,i,n])=>{this.products=n,this.displayData=k(e,i,n),this.ready=!0})}ngOnChanges(e){let i=e.clientId;i&&!i.isFirstChange()&&(this.ready=!1,f([this.clientsApi.getClient$(this.clientId),this.bucketApi.getClientBucket$(this.clientId)]).pipe(C(this.destroy$)).subscribe(([n,l])=>{this.displayData=k(n,l,this.products),this.ready=!0}))}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}constructor(e,i,n){this.clientsApi=e,this.bucketApi=i,this.productsApi=n}static \u0275fac=function(i){return new(i||t)(u(S),u(M),u(T))};static \u0275cmp=m({type:t,selectors:[["app-input"]],inputs:{clientId:"clientId",showBucket:"showBucket"},features:[g],decls:2,vars:2,consts:[[1,"max-w-screen-lg"],[3,"displayData"],[3,"bucket"]],template:function(i,n){i&1&&(o(0,F,1,0,"app-client-skeleton"),o(1,W,3,2,"div",0)),i&2&&(p(n.ready?-1:0),d(),p(n.ready?1:-1))},dependencies:[w,A,D],styles:["[_nghost-%COMP%]{display:block}"]})}return t})();function E(t,r){if(t&1&&(c(0,"app-input",0),y(1,"async")),t&2){let e=a();s("clientId",r)("showBucket",I(1,2,e.showBucket$)??!1)}}var tt=(()=>{class t{counter$=h(v).clientId$;showBucket$=h(v).showBucket$;static \u0275fac=function(i){return new(i||t)};static \u0275cmp=m({type:t,selectors:[["app-input-input-wrapper"]],decls:2,vars:3,consts:[[3,"clientId","showBucket"]],template:function(i,n){if(i&1&&(o(0,E,2,4,"app-input",0),y(1,"async")),i&2){let l;p((l=I(1,1,n.counter$))?0:-1,l)}},dependencies:[x,j,b],encapsulation:2})}return t})();export{tt as InputInputWrapperComponent};
